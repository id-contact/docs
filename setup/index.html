<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ID-Contact Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ID-Contact Blog Atom Feed">
<script src="reset_theme.js"></script><title data-react-helmet="true">Setup for local testing | ID-Contact</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setup for local testing | ID-Contact"><meta data-react-helmet="true" name="description" content="This guide aims to provide a complete introduction to setting up a first ID Contact environment. It provides guidance on an initial setup and configuration for the core, an authentication plugin and a communication plugin."><meta data-react-helmet="true" property="og:description" content="This guide aims to provide a complete introduction to setting up a first ID Contact environment. It provides guidance on an initial setup and configuration for the core, an authentication plugin and a communication plugin."><meta data-react-helmet="true" property="og:url" content="https://docs.idcontact.nl/setup"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.idcontact.nl/setup"><link rel="stylesheet" href="/styles.e95eb87a.css">
<link rel="preload" href="/styles.86abdcb7.js" as="script">
<link rel="preload" href="/runtime~main.15dc57b7.js" as="script">
<link rel="preload" href="/main.7b815f0c.js" as="script">
<link rel="preload" href="/2.0732aa58.js" as="script">
<link rel="preload" href="/3.71af52dc.js" as="script">
<link rel="preload" href="/27.af86968c.js" as="script">
<link rel="preload" href="/935f2afb.fed1a0dc.js" as="script">
<link rel="preload" href="/17896441.30863bfd.js" as="script">
<link rel="preload" href="/3847b3ea.72a54aa5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><strong class="navbar__title">ID-Contact</strong></a><a class="navbar__item navbar__link" href="/">Docs</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">ID-Contact</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">ID Contact</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/concepts/attributes">Attributes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/concepts/purposes">Purposes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sessions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sessions/full">Full</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sessions/auth_during_comm">Authentication during communication</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/core_api">Core API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Authentication Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/auth/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/auth/tech_example">Sample interaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/auth/api">API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Communication Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/comm/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/comm/tech_example">Sample interaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/comm/api">API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Sample Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sample_plugins/amazon_connect">Amazon Connect (telephony)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sample_plugins/digid">DigiD</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/setup">Local testing setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ID Contact configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/configuration/core">Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/configuration/auth_test">Authentication test plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/configuration/comm_test">Communication test plugin</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Setup for local testing</h1></header><div class="markdown"><p>This guide aims to provide a complete introduction to setting up a first ID Contact environment. It provides guidance on an initial setup and configuration for the core, an authentication plugin and a communication plugin.</p><p>The resulting setup can be used as a starting point for further experimentation with the ID Contact ecosystem. In particular, our use here of the test authentication and communication plugins makes this setup particularly well suited for as a starting point for a development environment for new ID Contact plugins.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="design"></a>Design<a class="hash-link" href="#design" title="Direct link to heading">#</a></h2><p>As ID Contact is quite flexible, before we start setting up the various components we will first need to decide on what we want. In this tutorial we will make it our goal to set up a single flow, test_purpose, for which users need to reveal their test_attribute. We want to enable the test authentication plugin for this flow, as well as the test communication plugin, but won&#x27;t focus on further plugins.</p><p>Thus, we will need to setup 3 components:</p><ul><li>The ID Contact core.</li><li>The ID Contact authentication test plugin.</li><li>The ID Contact communication test plugin.</li></ul><p>And configure these to work with the test_purpose purpose, and the test_attribute attribute. Furthermore, as all of these are http servers, we will need to assign them ports in order to avoid conflict. We will use the following assignment:</p><ul><li>Core: port 8000</li><li>Authentication test plugin: 8001</li><li>Communication test plugin: 8002</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="key-material"></a>Key material<a class="hash-link" href="#key-material" title="Direct link to heading">#</a></h2><p>The authentication information exchanged between authentication and communication plugins is encrypted and signed. For this, we will need keys for the plugins to use to encrypt/decrypt and to sign/verify. These are just standard PEM encoded RSA public/private keypairs, and you can generate them yourself if you want using .e.g. openSSL.</p><p>However, for ease of reference we provide here an RSA keypair for testing:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5/wRrT2T4GGvuQYcWjLr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/lFe51sTV2FLd3GAaMiHN8Q/VT/XEhP/kZ6042l1Bj2VpZ2yMxv294JKwBCINc34</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8VLYd+DfkMnJ4yX9LZHK2Wke6tCWBB9mYgGjMwCNdXczbl96x1/HevaTorvk91rz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cvzw6vV08jtprAyN5aYMU4I0/cVJwi03bh/skraAB110mQSqi1QU/2z6Hkuf7+/x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/bACxviWCyPCd/wkXNpFhTcRlfFeyKcy0pwFx1OLCDJ1qY7oU+z1wcypeOHeiUSx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">riSHlWaT24ke+J78GGVmnCZdu/MRuun5hvgaiWxnhIBmExJY6vRuMlwkbRqOft5Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TQIDAQAB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PUBLIC KEY-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDn/BGtPZPgYa+5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BhxaMuv+UV7nWxNXYUt3cYBoyIc3xD9VP9cSE/+RnrTjaXUGPZWlnbIzG/b3gkrA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EIg1zfjxUth34N+QycnjJf0tkcrZaR7q0JYEH2ZiAaMzAI11dzNuX3rHX8d69pOi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u+T3WvMK/PDq9XTyO2msDI3lpgxTgjT9xUnCLTduH+yStoAHXXSZBKqLVBT/bPoe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S5/v7/H9sALG+JYLI8J3/CRc2kWFNxGV8V7IpzLSnAXHU4sIMnWpjuhT7PXBzKl4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4d6JRLGuJIeVZpPbiR74nvwYZWacJl278xG66fmG+BqJbGeEgGYTEljq9G4yXCRt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Go5+3lBNAgMBAAECggEARY9EsaCMLbS83wrhB37LWneFsHOTqhjHaypCaajvOp6C</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qwo4b/hFIqHm9WWSrGtc6ssNOtwAwphz14Fdhlybb6j6tX9dKeoHui+S6c4Ud/pY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ReqDgPr1VR/OkqVwxS8X4dmJVCz5AHrdK+eRMUY5KCtOBfXRuixsdCVTiu+uNH99</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">QC3kID1mmOF3B0chOK4WPN4cCsQpfOvoJfPBcJOtyxUSLlQdJH+04s3gVA24nCJj</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">66+AnVkjgkyQ3q0Jugh1vo0ikrUW8uSLmg40sT5eYDN9jP6r5Gc8yDqsmYNVbLhU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pY8XR4gtzbtAXK8R2ISKNhOSuTv4SWFXVZiDIBkuIQKBgQD3qnZYyhGzAiSM7T/R</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS9KrQlzpRV5qSnEp2sPG/YF+SGAdgOaWOEUa3vbkCuLCTkoJhdTp67BZvv/657Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2eK2khsYRs02Oq+4rYvdcAv/wS2vkMbg6CUp1w2/pwBvwFTXegr00k6IabXNcXBy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kAjMsZqVDSdQByrf80AlFyEsOQKBgQDvyoUDhLReeDNkbkPHL/EHD69Hgsc77Hm6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MEiLdNljTJLRUl+DuD3yKX1xVBaCLp9fMJ/mCrxtkldhW+i6JBHRQ7vdf11zNsRf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2Cud3Q97RMHTacCHhEQDGnYkOQNTRhk8L31N0XBKfUu0phSmVyTnu2lLWmYJ8hyO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yOEB19JstQKBgQC3oVw+WRTmdSBEnWREBKxb4hCv/ib+Hb8qYDew7DpuE1oTtWzW</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dC/uxAMBuNOQMzZ93kBNdnbMT19pUXpfwC2o0IvmZBijrL+9Xm/lr7410zXchqvu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9jEX5Kv8/gYE1cYSPhsBiy1PV5HE0edeCg18N/M1sJsFa0sO4X0eAxhFgQKBgQC7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iQDkUooaBBn1ZsM9agIwSpUD8YTOGdDNy+tAnf9SSNXePXUT+CkCVm6UDnaYE8xy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zv2PFUBu1W/fZdkqkwEYT8gCoBS/AcstRkw+Z2AvQQPxyxhXJBto7e4NwEUYgI9F</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4cI29SDEMR/fRbCKs0basVjVJPr+tkqdZP+MyHT6rQKBgQCT1YjY4F45Qn0Vl+sZ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HqwVHvPMwVsexcRTdC0evaX/09s0xscSACvFJh5Dm9gnuMHElBcpZFATIvFcbV5Y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MbJ/NNQiD63NEcL9VXwT96sMx2tnduOq4sYzu84kwPQ4ohxmPt/7xHU3L8SGqoec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bs6neR/sZuHzNm8y/xtxj2ZAEw==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PRIVATE KEY-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Note that, since the private key of this key pair is publicly known, this particular key pair should NEVER be used outside of testing/development environments.</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-up-the-authentication-test-plugin"></a>Setting up the authentication test plugin<a class="hash-link" href="#setting-up-the-authentication-test-plugin" title="Direct link to heading">#</a></h2><p>We start by setting up the authentication test plugin. First, we clone the auth-test repository into our working directory, and move to it:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/id-contact/auth-test</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> auth-test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Next, we will need to configure this plugin. For this, we create a config file <code>config.toml</code> in the auth-test directory.</p><p>We need to tell the plugin where it is located, and on which port we want it to listen:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server_url = &quot;http://localhost:8001&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_url = &quot;http://localhost:8001&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 8001</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As per our design above, we set the port to 8001 to give space for the other two servers.</p><p>Then, we need to tell it about the attributes in our system, and what test values it should provide for them:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.attributes]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">test_attribute = &quot;test_attribute_value&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You can add aditional attribute tags here with their corresponding values.</p><p>Finally, the plugin needs to know which keys to use to encrypt and sign authentication results. For this, we will just use the example keys mentioned above.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.encryption_pubkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5/wRrT2T4GGvuQYcWjLr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/lFe51sTV2FLd3GAaMiHN8Q/VT/XEhP/kZ6042l1Bj2VpZ2yMxv294JKwBCINc34</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8VLYd+DfkMnJ4yX9LZHK2Wke6tCWBB9mYgGjMwCNdXczbl96x1/HevaTorvk91rz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cvzw6vV08jtprAyN5aYMU4I0/cVJwi03bh/skraAB110mQSqi1QU/2z6Hkuf7+/x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/bACxviWCyPCd/wkXNpFhTcRlfFeyKcy0pwFx1OLCDJ1qY7oU+z1wcypeOHeiUSx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">riSHlWaT24ke+J78GGVmnCZdu/MRuun5hvgaiWxnhIBmExJY6vRuMlwkbRqOft5Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TQIDAQAB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.signing_privkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDn/BGtPZPgYa+5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BhxaMuv+UV7nWxNXYUt3cYBoyIc3xD9VP9cSE/+RnrTjaXUGPZWlnbIzG/b3gkrA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EIg1zfjxUth34N+QycnjJf0tkcrZaR7q0JYEH2ZiAaMzAI11dzNuX3rHX8d69pOi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u+T3WvMK/PDq9XTyO2msDI3lpgxTgjT9xUnCLTduH+yStoAHXXSZBKqLVBT/bPoe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S5/v7/H9sALG+JYLI8J3/CRc2kWFNxGV8V7IpzLSnAXHU4sIMnWpjuhT7PXBzKl4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4d6JRLGuJIeVZpPbiR74nvwYZWacJl278xG66fmG+BqJbGeEgGYTEljq9G4yXCRt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Go5+3lBNAgMBAAECggEARY9EsaCMLbS83wrhB37LWneFsHOTqhjHaypCaajvOp6C</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qwo4b/hFIqHm9WWSrGtc6ssNOtwAwphz14Fdhlybb6j6tX9dKeoHui+S6c4Ud/pY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ReqDgPr1VR/OkqVwxS8X4dmJVCz5AHrdK+eRMUY5KCtOBfXRuixsdCVTiu+uNH99</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">QC3kID1mmOF3B0chOK4WPN4cCsQpfOvoJfPBcJOtyxUSLlQdJH+04s3gVA24nCJj</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">66+AnVkjgkyQ3q0Jugh1vo0ikrUW8uSLmg40sT5eYDN9jP6r5Gc8yDqsmYNVbLhU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pY8XR4gtzbtAXK8R2ISKNhOSuTv4SWFXVZiDIBkuIQKBgQD3qnZYyhGzAiSM7T/R</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS9KrQlzpRV5qSnEp2sPG/YF+SGAdgOaWOEUa3vbkCuLCTkoJhdTp67BZvv/657Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2eK2khsYRs02Oq+4rYvdcAv/wS2vkMbg6CUp1w2/pwBvwFTXegr00k6IabXNcXBy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kAjMsZqVDSdQByrf80AlFyEsOQKBgQDvyoUDhLReeDNkbkPHL/EHD69Hgsc77Hm6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MEiLdNljTJLRUl+DuD3yKX1xVBaCLp9fMJ/mCrxtkldhW+i6JBHRQ7vdf11zNsRf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2Cud3Q97RMHTacCHhEQDGnYkOQNTRhk8L31N0XBKfUu0phSmVyTnu2lLWmYJ8hyO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yOEB19JstQKBgQC3oVw+WRTmdSBEnWREBKxb4hCv/ib+Hb8qYDew7DpuE1oTtWzW</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dC/uxAMBuNOQMzZ93kBNdnbMT19pUXpfwC2o0IvmZBijrL+9Xm/lr7410zXchqvu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9jEX5Kv8/gYE1cYSPhsBiy1PV5HE0edeCg18N/M1sJsFa0sO4X0eAxhFgQKBgQC7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iQDkUooaBBn1ZsM9agIwSpUD8YTOGdDNy+tAnf9SSNXePXUT+CkCVm6UDnaYE8xy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zv2PFUBu1W/fZdkqkwEYT8gCoBS/AcstRkw+Z2AvQQPxyxhXJBto7e4NwEUYgI9F</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4cI29SDEMR/fRbCKs0basVjVJPr+tkqdZP+MyHT6rQKBgQCT1YjY4F45Qn0Vl+sZ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HqwVHvPMwVsexcRTdC0evaX/09s0xscSACvFJh5Dm9gnuMHElBcpZFATIvFcbV5Y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MbJ/NNQiD63NEcL9VXwT96sMx2tnduOq4sYzu84kwPQ4ohxmPt/7xHU3L8SGqoec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bs6neR/sZuHzNm8y/xtxj2ZAEw==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Combined, this gives us the following for <code>config.toml</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server_url = &quot;http://localhost:8001&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_url = &quot;http://localhost:8001&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 8001</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.attributes]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">test_attribute = &quot;test_attribute_value&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.encryption_pubkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5/wRrT2T4GGvuQYcWjLr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/lFe51sTV2FLd3GAaMiHN8Q/VT/XEhP/kZ6042l1Bj2VpZ2yMxv294JKwBCINc34</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8VLYd+DfkMnJ4yX9LZHK2Wke6tCWBB9mYgGjMwCNdXczbl96x1/HevaTorvk91rz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cvzw6vV08jtprAyN5aYMU4I0/cVJwi03bh/skraAB110mQSqi1QU/2z6Hkuf7+/x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/bACxviWCyPCd/wkXNpFhTcRlfFeyKcy0pwFx1OLCDJ1qY7oU+z1wcypeOHeiUSx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">riSHlWaT24ke+J78GGVmnCZdu/MRuun5hvgaiWxnhIBmExJY6vRuMlwkbRqOft5Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TQIDAQAB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.signing_privkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDn/BGtPZPgYa+5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BhxaMuv+UV7nWxNXYUt3cYBoyIc3xD9VP9cSE/+RnrTjaXUGPZWlnbIzG/b3gkrA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EIg1zfjxUth34N+QycnjJf0tkcrZaR7q0JYEH2ZiAaMzAI11dzNuX3rHX8d69pOi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u+T3WvMK/PDq9XTyO2msDI3lpgxTgjT9xUnCLTduH+yStoAHXXSZBKqLVBT/bPoe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S5/v7/H9sALG+JYLI8J3/CRc2kWFNxGV8V7IpzLSnAXHU4sIMnWpjuhT7PXBzKl4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4d6JRLGuJIeVZpPbiR74nvwYZWacJl278xG66fmG+BqJbGeEgGYTEljq9G4yXCRt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Go5+3lBNAgMBAAECggEARY9EsaCMLbS83wrhB37LWneFsHOTqhjHaypCaajvOp6C</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qwo4b/hFIqHm9WWSrGtc6ssNOtwAwphz14Fdhlybb6j6tX9dKeoHui+S6c4Ud/pY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ReqDgPr1VR/OkqVwxS8X4dmJVCz5AHrdK+eRMUY5KCtOBfXRuixsdCVTiu+uNH99</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">QC3kID1mmOF3B0chOK4WPN4cCsQpfOvoJfPBcJOtyxUSLlQdJH+04s3gVA24nCJj</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">66+AnVkjgkyQ3q0Jugh1vo0ikrUW8uSLmg40sT5eYDN9jP6r5Gc8yDqsmYNVbLhU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pY8XR4gtzbtAXK8R2ISKNhOSuTv4SWFXVZiDIBkuIQKBgQD3qnZYyhGzAiSM7T/R</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS9KrQlzpRV5qSnEp2sPG/YF+SGAdgOaWOEUa3vbkCuLCTkoJhdTp67BZvv/657Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2eK2khsYRs02Oq+4rYvdcAv/wS2vkMbg6CUp1w2/pwBvwFTXegr00k6IabXNcXBy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kAjMsZqVDSdQByrf80AlFyEsOQKBgQDvyoUDhLReeDNkbkPHL/EHD69Hgsc77Hm6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MEiLdNljTJLRUl+DuD3yKX1xVBaCLp9fMJ/mCrxtkldhW+i6JBHRQ7vdf11zNsRf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2Cud3Q97RMHTacCHhEQDGnYkOQNTRhk8L31N0XBKfUu0phSmVyTnu2lLWmYJ8hyO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yOEB19JstQKBgQC3oVw+WRTmdSBEnWREBKxb4hCv/ib+Hb8qYDew7DpuE1oTtWzW</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dC/uxAMBuNOQMzZ93kBNdnbMT19pUXpfwC2o0IvmZBijrL+9Xm/lr7410zXchqvu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9jEX5Kv8/gYE1cYSPhsBiy1PV5HE0edeCg18N/M1sJsFa0sO4X0eAxhFgQKBgQC7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iQDkUooaBBn1ZsM9agIwSpUD8YTOGdDNy+tAnf9SSNXePXUT+CkCVm6UDnaYE8xy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zv2PFUBu1W/fZdkqkwEYT8gCoBS/AcstRkw+Z2AvQQPxyxhXJBto7e4NwEUYgI9F</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4cI29SDEMR/fRbCKs0basVjVJPr+tkqdZP+MyHT6rQKBgQCT1YjY4F45Qn0Vl+sZ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HqwVHvPMwVsexcRTdC0evaX/09s0xscSACvFJh5Dm9gnuMHElBcpZFATIvFcbV5Y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MbJ/NNQiD63NEcL9VXwT96sMx2tnduOq4sYzu84kwPQ4ohxmPt/7xHU3L8SGqoec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bs6neR/sZuHzNm8y/xtxj2ZAEw==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>We are now ready to start the plugin with</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ROCKET_CONFIG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">config.toml cargo run</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>which will build and then run the plugin.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-up-the-communication-test-plugin"></a>Setting up the communication test plugin<a class="hash-link" href="#setting-up-the-communication-test-plugin" title="Direct link to heading">#</a></h2><p>In a second terminal in our main directory, clone and enter the directory of the test communication plugin:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/id-contact/comm-test</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> comm-test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This plugin also needs configuration, so we make a config file <code>config.toml</code>, this time in the comm-test directory.</p><p>We again start with the basics: which port the server should use and where it is:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server_url = &quot;http://localhost:8002&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_url = &quot;http://localhost:8002&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 8002</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As per our design above, we set the port to 8002 to give space for the other two servers.</p><p>The only other information the communication test plugin needs are the keys to decrypt and verify authentication results. Again, using the example keys from above, we get</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.signature_pubkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5/wRrT2T4GGvuQYcWjLr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/lFe51sTV2FLd3GAaMiHN8Q/VT/XEhP/kZ6042l1Bj2VpZ2yMxv294JKwBCINc34</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8VLYd+DfkMnJ4yX9LZHK2Wke6tCWBB9mYgGjMwCNdXczbl96x1/HevaTorvk91rz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cvzw6vV08jtprAyN5aYMU4I0/cVJwi03bh/skraAB110mQSqi1QU/2z6Hkuf7+/x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/bACxviWCyPCd/wkXNpFhTcRlfFeyKcy0pwFx1OLCDJ1qY7oU+z1wcypeOHeiUSx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">riSHlWaT24ke+J78GGVmnCZdu/MRuun5hvgaiWxnhIBmExJY6vRuMlwkbRqOft5Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TQIDAQAB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.decryption_privkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDn/BGtPZPgYa+5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BhxaMuv+UV7nWxNXYUt3cYBoyIc3xD9VP9cSE/+RnrTjaXUGPZWlnbIzG/b3gkrA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EIg1zfjxUth34N+QycnjJf0tkcrZaR7q0JYEH2ZiAaMzAI11dzNuX3rHX8d69pOi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u+T3WvMK/PDq9XTyO2msDI3lpgxTgjT9xUnCLTduH+yStoAHXXSZBKqLVBT/bPoe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S5/v7/H9sALG+JYLI8J3/CRc2kWFNxGV8V7IpzLSnAXHU4sIMnWpjuhT7PXBzKl4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4d6JRLGuJIeVZpPbiR74nvwYZWacJl278xG66fmG+BqJbGeEgGYTEljq9G4yXCRt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Go5+3lBNAgMBAAECggEARY9EsaCMLbS83wrhB37LWneFsHOTqhjHaypCaajvOp6C</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qwo4b/hFIqHm9WWSrGtc6ssNOtwAwphz14Fdhlybb6j6tX9dKeoHui+S6c4Ud/pY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ReqDgPr1VR/OkqVwxS8X4dmJVCz5AHrdK+eRMUY5KCtOBfXRuixsdCVTiu+uNH99</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">QC3kID1mmOF3B0chOK4WPN4cCsQpfOvoJfPBcJOtyxUSLlQdJH+04s3gVA24nCJj</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">66+AnVkjgkyQ3q0Jugh1vo0ikrUW8uSLmg40sT5eYDN9jP6r5Gc8yDqsmYNVbLhU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pY8XR4gtzbtAXK8R2ISKNhOSuTv4SWFXVZiDIBkuIQKBgQD3qnZYyhGzAiSM7T/R</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS9KrQlzpRV5qSnEp2sPG/YF+SGAdgOaWOEUa3vbkCuLCTkoJhdTp67BZvv/657Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2eK2khsYRs02Oq+4rYvdcAv/wS2vkMbg6CUp1w2/pwBvwFTXegr00k6IabXNcXBy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kAjMsZqVDSdQByrf80AlFyEsOQKBgQDvyoUDhLReeDNkbkPHL/EHD69Hgsc77Hm6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MEiLdNljTJLRUl+DuD3yKX1xVBaCLp9fMJ/mCrxtkldhW+i6JBHRQ7vdf11zNsRf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2Cud3Q97RMHTacCHhEQDGnYkOQNTRhk8L31N0XBKfUu0phSmVyTnu2lLWmYJ8hyO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yOEB19JstQKBgQC3oVw+WRTmdSBEnWREBKxb4hCv/ib+Hb8qYDew7DpuE1oTtWzW</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dC/uxAMBuNOQMzZ93kBNdnbMT19pUXpfwC2o0IvmZBijrL+9Xm/lr7410zXchqvu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9jEX5Kv8/gYE1cYSPhsBiy1PV5HE0edeCg18N/M1sJsFa0sO4X0eAxhFgQKBgQC7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iQDkUooaBBn1ZsM9agIwSpUD8YTOGdDNy+tAnf9SSNXePXUT+CkCVm6UDnaYE8xy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zv2PFUBu1W/fZdkqkwEYT8gCoBS/AcstRkw+Z2AvQQPxyxhXJBto7e4NwEUYgI9F</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4cI29SDEMR/fRbCKs0basVjVJPr+tkqdZP+MyHT6rQKBgQCT1YjY4F45Qn0Vl+sZ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HqwVHvPMwVsexcRTdC0evaX/09s0xscSACvFJh5Dm9gnuMHElBcpZFATIvFcbV5Y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MbJ/NNQiD63NEcL9VXwT96sMx2tnduOq4sYzu84kwPQ4ohxmPt/7xHU3L8SGqoec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bs6neR/sZuHzNm8y/xtxj2ZAEw==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Combined, this gives us the following for <code>config.toml</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server_url = &quot;http://localhost:8002&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_url = &quot;http://localhost:8002&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 8002</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.signature_pubkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5/wRrT2T4GGvuQYcWjLr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/lFe51sTV2FLd3GAaMiHN8Q/VT/XEhP/kZ6042l1Bj2VpZ2yMxv294JKwBCINc34</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8VLYd+DfkMnJ4yX9LZHK2Wke6tCWBB9mYgGjMwCNdXczbl96x1/HevaTorvk91rz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Cvzw6vV08jtprAyN5aYMU4I0/cVJwi03bh/skraAB110mQSqi1QU/2z6Hkuf7+/x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/bACxviWCyPCd/wkXNpFhTcRlfFeyKcy0pwFx1OLCDJ1qY7oU+z1wcypeOHeiUSx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">riSHlWaT24ke+J78GGVmnCZdu/MRuun5hvgaiWxnhIBmExJY6vRuMlwkbRqOft5Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TQIDAQAB</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PUBLIC KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global.decryption_privkey]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type = &quot;RSA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">key = &quot;&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDn/BGtPZPgYa+5</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BhxaMuv+UV7nWxNXYUt3cYBoyIc3xD9VP9cSE/+RnrTjaXUGPZWlnbIzG/b3gkrA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EIg1zfjxUth34N+QycnjJf0tkcrZaR7q0JYEH2ZiAaMzAI11dzNuX3rHX8d69pOi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">u+T3WvMK/PDq9XTyO2msDI3lpgxTgjT9xUnCLTduH+yStoAHXXSZBKqLVBT/bPoe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">S5/v7/H9sALG+JYLI8J3/CRc2kWFNxGV8V7IpzLSnAXHU4sIMnWpjuhT7PXBzKl4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4d6JRLGuJIeVZpPbiR74nvwYZWacJl278xG66fmG+BqJbGeEgGYTEljq9G4yXCRt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Go5+3lBNAgMBAAECggEARY9EsaCMLbS83wrhB37LWneFsHOTqhjHaypCaajvOp6C</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">qwo4b/hFIqHm9WWSrGtc6ssNOtwAwphz14Fdhlybb6j6tX9dKeoHui+S6c4Ud/pY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ReqDgPr1VR/OkqVwxS8X4dmJVCz5AHrdK+eRMUY5KCtOBfXRuixsdCVTiu+uNH99</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">QC3kID1mmOF3B0chOK4WPN4cCsQpfOvoJfPBcJOtyxUSLlQdJH+04s3gVA24nCJj</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">66+AnVkjgkyQ3q0Jugh1vo0ikrUW8uSLmg40sT5eYDN9jP6r5Gc8yDqsmYNVbLhU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pY8XR4gtzbtAXK8R2ISKNhOSuTv4SWFXVZiDIBkuIQKBgQD3qnZYyhGzAiSM7T/R</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WS9KrQlzpRV5qSnEp2sPG/YF+SGAdgOaWOEUa3vbkCuLCTkoJhdTp67BZvv/657Q</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2eK2khsYRs02Oq+4rYvdcAv/wS2vkMbg6CUp1w2/pwBvwFTXegr00k6IabXNcXBy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kAjMsZqVDSdQByrf80AlFyEsOQKBgQDvyoUDhLReeDNkbkPHL/EHD69Hgsc77Hm6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MEiLdNljTJLRUl+DuD3yKX1xVBaCLp9fMJ/mCrxtkldhW+i6JBHRQ7vdf11zNsRf</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2Cud3Q97RMHTacCHhEQDGnYkOQNTRhk8L31N0XBKfUu0phSmVyTnu2lLWmYJ8hyO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">yOEB19JstQKBgQC3oVw+WRTmdSBEnWREBKxb4hCv/ib+Hb8qYDew7DpuE1oTtWzW</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dC/uxAMBuNOQMzZ93kBNdnbMT19pUXpfwC2o0IvmZBijrL+9Xm/lr7410zXchqvu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9jEX5Kv8/gYE1cYSPhsBiy1PV5HE0edeCg18N/M1sJsFa0sO4X0eAxhFgQKBgQC7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iQDkUooaBBn1ZsM9agIwSpUD8YTOGdDNy+tAnf9SSNXePXUT+CkCVm6UDnaYE8xy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zv2PFUBu1W/fZdkqkwEYT8gCoBS/AcstRkw+Z2AvQQPxyxhXJBto7e4NwEUYgI9F</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">4cI29SDEMR/fRbCKs0basVjVJPr+tkqdZP+MyHT6rQKBgQCT1YjY4F45Qn0Vl+sZ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HqwVHvPMwVsexcRTdC0evaX/09s0xscSACvFJh5Dm9gnuMHElBcpZFATIvFcbV5Y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MbJ/NNQiD63NEcL9VXwT96sMx2tnduOq4sYzu84kwPQ4ohxmPt/7xHU3L8SGqoec</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Bs6neR/sZuHzNm8y/xtxj2ZAEw==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PRIVATE KEY-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>We are now ready to start the plugin with</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ROCKET_CONFIG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">config.toml cargo run</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>which will build and then run the plugin.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-up-the-core"></a>Setting up the core<a class="hash-link" href="#setting-up-the-core" title="Direct link to heading">#</a></h2><p>Finally, in a third terminal, clone and enter the core&#x27;s directory:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/id-contact/core</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> core</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The core already has a complete <code>config.toml</code>, but it is not suitable for our needs, so we will replace it.</p><p>First, we again tell the server what port to use and where it is.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server_url = &quot;http://localhost:8000&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_url = &quot;http://localhost:8000&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 8000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Then, we configure a <code>ui_tel_url</code>, which points to a generic UI for rendering telephone numbers along with authentication codes for use in telephony-based communication plugins. We&#x27;re not using such a plugin for now, so we pass an empty value:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ui_tel_url = &quot;&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Next, we need to give it an internal secret. This is used to temporarily sign session data so that end users cannot manipulate that. Here we just use a simple test value.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_secret = &quot;sample_secret_12345678901234567890&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Next, we need to tell the core about our authenticaton method:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[global.auth_methods]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tag = &quot;auth_test&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">name = &quot;Test Authenticator&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">image_path = &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">start = &quot;http://localhost:8001&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>and our communication method:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[global.comm_methods]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tag = &quot;comm_test&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">name = &quot;Test Communicator&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">image_path = &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">start = &quot;http://localhost:8002&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If we wanted to add more of these, we would just repeat with more plugin blocks. We leave the image paths empty here as we won&#x27;t need them for our testing.</p><p>Finally, we need to specify our purpose and how its flow should look:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[global.purposes]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tag = &quot;test_purpose&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">attributes = [ &quot;test_attribute&quot; ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">allowed_auth = [ &quot;auth_test&quot; ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">allowed_comm = [ &quot;comm_test&quot; ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Combined, this gives as content of <code>config.toml</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-toml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[global]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server_url = &quot;http://localhost:8000&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_url = &quot;http://localhost:8000&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">port = 8000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ui_tel_url = &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">internal_secret = &quot;sample_secret_12345678901234567890&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[global.auth_methods]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tag = &quot;auth_test&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">name = &quot;Test Authenticator&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">image_path = &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">start = &quot;http://localhost:8001&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[global.comm_methods]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tag = &quot;comm_test&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">name = &quot;Test Communicator&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">image_path = &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">start = &quot;http://localhost:8002&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[global.purposes]]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tag = &quot;test_purpose&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">attributes = [ &quot;test_attribute&quot; ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">allowed_auth = [ &quot;auth_test&quot; ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">allowed_comm = [ &quot;comm_test&quot; ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>We are now ready to start the core with</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ROCKET_CONFIG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">config.toml cargo run</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>which will build and then run the core with our above configuration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="testing"></a>Testing<a class="hash-link" href="#testing" title="Direct link to heading">#</a></h2><p>We can now test our setup by opening a 4th terminal window and using <a href="https://httpie.io/" target="_blank" rel="noopener noreferrer">httpie</a> to make a test request to the core with the intent to start a session with the testing plugins for our test_purpose:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">http POST http://localhost:8000/start </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">purpose</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">test_purpose </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">auth_method</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">auth_test </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">comm_method</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">comm_test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This will show our server response, containing the client url:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-http codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HTTP/1.1 200 OK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">content-length: 149</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">content-type: application/json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">date: Tue, 13 Apr 2021 12:48:40 GMT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server: Rocket</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;client_url&quot;: &quot;http://localhost:8001/browser/WyJ0ZXN0X2F0dHJpYnV0ZSJd/aHR0cDovL2xvY2FsaG9zdDo4MDAyL3Vp/aHR0cDovL2xvY2FsaG9zdDo4MDAyL2F1dGhfcmVzdWx0&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Opening this url in a browser will result in a redirect, which lands you on the test plugin ui:</p><p><img alt="Browser showing communication test plugin ui" src="/assets/images/setup_complete-6dca22c2df74de96139208d640f6ec30.png"></p><p>Meanwhile, the communication test plugin will have logged the decoded authentication result, which will look like</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Decoded: AuthResult { status: Succes, attributes: Some({&quot;test_attribute&quot;: &quot;test_attribute_value&quot;}), session_url: None }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Congratulations! Seeing the above indicates that your setup now works correctly. You can experiment further by looking at the configuration options described in the <a href="/configuration/auth_test">authentication test plugin</a> and <a href="/configuration/comm_test">communication test plugin</a> documentation.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/sample_plugins/digid"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> DigiD</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/configuration/core"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Core configuration options </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#design" class="table-of-contents__link">Design</a></li><li><a href="#key-material" class="table-of-contents__link">Key material</a></li><li><a href="#setting-up-the-authentication-test-plugin" class="table-of-contents__link">Setting up the authentication test plugin</a></li><li><a href="#setting-up-the-communication-test-plugin" class="table-of-contents__link">Setting up the communication test plugin</a></li><li><a href="#setting-up-the-core" class="table-of-contents__link">Setting up the core</a></li><li><a href="#testing" class="table-of-contents__link">Testing</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/auth/overview">Authentication plugins</a></li><li class="footer__item"><a class="footer__link-item" href="/comm/overview">Communication plugins</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2021 Tweede Golf. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.86abdcb7.js"></script>
<script src="/runtime~main.15dc57b7.js"></script>
<script src="/main.7b815f0c.js"></script>
<script src="/2.0732aa58.js"></script>
<script src="/3.71af52dc.js"></script>
<script src="/27.af86968c.js"></script>
<script src="/935f2afb.fed1a0dc.js"></script>
<script src="/17896441.30863bfd.js"></script>
<script src="/3847b3ea.72a54aa5.js"></script>
</body>
</html>