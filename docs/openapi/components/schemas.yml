Identifier:
  type: string
  format: UUID

AuthenticationSchema:
  type: string

AuthenticationEndpoint:
  type: object
  properties:
    id:
      $ref: '#/Identifier'
    description:
      type: string

CommunicationEndpoint:
  type: object
  properties:
    id:
      $ref: '#/Identifier'
    description:
      type: string

SessionToken:
  type: string

Purpose:
  type: string

Session:
  type: object
  properties:
    token:
      $ref: '#/SessionToken'
    creation:
      type: string
      format: date-time
    expiration:
      type: string
      format: date-time
    
AttributeRequest:
  type: object
  properties:
    schema:
      $ref: '#/AuthenticationSchema'
      
Employee:
  type: object
  properties:
    id:
      type: string

SessionRequest:
  type: object
  properties:
    purpose:
      $ref: '#/Purpose'
    params: {}
      
  required:
    - purpose
    - params

SessionResponse:
  type: object
  properties:
    session:
      $ref: '#/Session'
    attr_request:
      $ref: '#/AttributeRequest'
    auth_endpoints:
      type: 'array'
      items: 
        $ref: '#/AuthenticationEndpoint'
    comm_endpoints:
      type: 'array'
      items:
        $ref: '#/CommunicationEndpoint'

SelectAuthEndpointRequest:
  type: object
  properties:
    session_token:
      $ref: '#/SessionToken'
    auth_endpoint:
      $ref: '#/Identifier'

SelectAuthEndpointResponse:
  type: object

SelectCommEndpointRequest:
  type: object
  properties:
    session_token:
      $ref: '#/SessionToken'
    comm_endpoint:
      $ref: '#/Identifier'

SelectCommEndpointResponse:
  type: object
  properties:
    redirect_url:
        type: string